<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EMODnet Quantized Mesh Generator for Cesium: QuantizedMeshTilesPyramidBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="EMODnet_col_all_vert.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EMODnet Quantized Mesh Generator for Cesium
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classQuantizedMeshTilesPyramidBuilder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QuantizedMeshTilesPyramidBuilder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains the logic to create the pyramid of tiles in quantized mesh format.  
 <a href="classQuantizedMeshTilesPyramidBuilder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="quantized__mesh__tiles__pyramid__builder_8h_source.html">quantized_mesh_tiles_pyramid_builder.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab84a04997b10fbfda3a2aa7635baf838"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantizedMeshTilesPyramidBuilder.html#ab84a04997b10fbfda3a2aa7635baf838">QuantizedMeshTilesPyramidBuilder</a> (const std::vector&lt; <a class="el" href="classQuantizedMeshTiler.html">QuantizedMeshTiler</a> &gt; &amp;qmTilers, const <a class="el" href="classZoomTilesScheduler.html">ZoomTilesScheduler</a> &amp;scheduler)</td></tr>
<tr class="separator:ab84a04997b10fbfda3a2aa7635baf838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbe72bbf8f89f305c2369c472f80acf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantizedMeshTilesPyramidBuilder.html#a7fbe72bbf8f89f305c2369c472f80acf">createTmsPyramid</a> (const int &amp;startZoom, const int &amp;endZoom, const std::string &amp;outDir, const std::string &amp;debugDir=std::string(&quot;&quot;))</td></tr>
<tr class="memdesc:a7fbe72bbf8f89f305c2369c472f80acf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the tile pyramid in quantized-mesh format.  <a href="#a7fbe72bbf8f89f305c2369c472f80acf">More...</a><br /></td></tr>
<tr class="separator:a7fbe72bbf8f89f305c2369c472f80acf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3fb2e4a3a76438d65473f068b97334"><td class="memItemLeft" align="right" valign="top"><a id="a7f3fb2e4a3a76438d65473f068b97334"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantizedMeshTilesPyramidBuilder.html#a7f3fb2e4a3a76438d65473f068b97334">createTmsPyramidUnconstrainedBorders</a> (const int &amp;startZoom, const int &amp;endZoom, const std::string &amp;outDir, const std::string &amp;debugDir=std::string(&quot;&quot;))</td></tr>
<tr class="memdesc:a7f3fb2e4a3a76438d65473f068b97334"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the tile pyramid in quantized-mesh format without taking into account coherence along neighboring tiles' borders Useful when we know, by the way the simplification is created, that the vertices in the borders will always be the same (e.g., in the Delaunay TIN creation strategy) <br /></td></tr>
<tr class="separator:a7f3fb2e4a3a76438d65473f068b97334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83689663baf5ff3efa7172007207f01d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBordersData.html">BordersData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantizedMeshTilesPyramidBuilder.html#a83689663baf5ff3efa7172007207f01d">createTile</a> (const ctb::TileCoordinate &amp;coord, const int &amp;numThread, const std::string &amp;outDir, const <a class="el" href="structBordersData.html">BordersData</a> &amp;bd)</td></tr>
<tr class="memdesc:a83689663baf5ff3efa7172007207f01d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the required tile, in the given thread, and with the given data at the borders to maintain. The result is an output tile file created, and an updated BorderData structure with the data to maintain for neighboring tiles to be created.  <a href="#a83689663baf5ff3efa7172007207f01d">More...</a><br /></td></tr>
<tr class="separator:a83689663baf5ff3efa7172007207f01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c091f3f73b87ea96fec10421414f1b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantizedMeshTilesPyramidBuilder.html#a6c091f3f73b87ea96fec10421414f1b8">getNextTileToProcess</a> (ctb::TilePoint &amp;tileXY)</td></tr>
<tr class="separator:a6c091f3f73b87ea96fec10421414f1b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3e0b8a15a09394feed03cb35bd2ebff9"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuantizedMeshTilesPyramidBuilder.html#a3e0b8a15a09394feed03cb35bd2ebff9">getTileFileAndCreateDirs</a> (const ctb::TileCoordinate &amp;coord, const std::string &amp;mainOutDir)</td></tr>
<tr class="memdesc:a3e0b8a15a09394feed03cb35bd2ebff9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the tile folder (zoom/x) exists, and creates it otherwise.  <a href="#a3e0b8a15a09394feed03cb35bd2ebff9">More...</a><br /></td></tr>
<tr class="separator:a3e0b8a15a09394feed03cb35bd2ebff9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains the logic to create the pyramid of tiles in quantized mesh format. </p>
<p>Since the quantized mesh format requires coherence between neighboring tiles, this class is the responsible of maintaining this coherence and schedule the building of tiles by taking into account the ones already built. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab84a04997b10fbfda3a2aa7635baf838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab84a04997b10fbfda3a2aa7635baf838">&#9670;&nbsp;</a></span>QuantizedMeshTilesPyramidBuilder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QuantizedMeshTilesPyramidBuilder::QuantizedMeshTilesPyramidBuilder </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classQuantizedMeshTiler.html">QuantizedMeshTiler</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>qmTilers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classZoomTilesScheduler.html">ZoomTilesScheduler</a> &amp;&#160;</td>
          <td class="paramname"><em>scheduler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qmTilers</td><td>Vector of tilers, one for each desired thread (they should be the same!) </td></tr>
    <tr><td class="paramname">scheduler</td><td>The desired scheduler defining a preferred order for processing the tiles </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a83689663baf5ff3efa7172007207f01d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83689663baf5ff3efa7172007207f01d">&#9670;&nbsp;</a></span>createTile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBordersData.html">BordersData</a> QuantizedMeshTilesPyramidBuilder::createTile </td>
          <td>(</td>
          <td class="paramtype">const ctb::TileCoordinate &amp;&#160;</td>
          <td class="paramname"><em>coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>numThread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>outDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structBordersData.html">BordersData</a> &amp;&#160;</td>
          <td class="paramname"><em>bd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the required tile, in the given thread, and with the given data at the borders to maintain. The result is an output tile file created, and an updated BorderData structure with the data to maintain for neighboring tiles to be created. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">coord</td><td>The tile coordinates </td></tr>
    <tr><td class="paramname">numThread</td><td>The thread number where the process will take place </td></tr>
    <tr><td class="paramname">outDir</td><td>The output directory where the output tile file will be generated </td></tr>
    <tr><td class="paramname">bd</td><td>The <a class="el" href="structBordersData.html" title="Structure storing the data for the borders of a tile. This includes the 4 east-west-north-south borde...">BordersData</a> structure input. It contains the data to preserve at the borders as a result of previously generated tiles. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It returns the data at the borders to be maintained for neighboring tiles to be generated in the future (i.e., what was already restricted in <code>bd</code>, plus the new borders created). </dd></dl>

</div>
</div>
<a id="a7fbe72bbf8f89f305c2369c472f80acf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fbe72bbf8f89f305c2369c472f80acf">&#9670;&nbsp;</a></span>createTmsPyramid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QuantizedMeshTilesPyramidBuilder::createTmsPyramid </td>
          <td>(</td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>startZoom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>endZoom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>outDir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>debugDir</em> = <code>std::string(&quot;&quot;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the tile pyramid in quantized-mesh format. </p>
<p>Due to the quantized-mesh format requiring the vertices on the edges to coincide between neighbors, the creation of the tiles' for each zoom is not as simple as in the heightmap format, and it requires a more complex loop taking into account vertices at borders of the neighbors of the current tile being processed </p>

</div>
</div>
<a id="a6c091f3f73b87ea96fec10421414f1b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c091f3f73b87ea96fec10421414f1b8">&#9670;&nbsp;</a></span>getNextTileToProcess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool QuantizedMeshTilesPyramidBuilder::getNextTileToProcess </td>
          <td>(</td>
          <td class="paramtype">ctb::TilePoint &amp;&#160;</td>
          <td class="paramname"><em>tileXY</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the next tile to process in the current zoom </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tileXY</td><td>The (x,y) coordinates of the tile to process within the current zoom </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if a tile to be processed was located in the queue, false otherwise </dd></dl>

</div>
</div>
<a id="a3e0b8a15a09394feed03cb35bd2ebff9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e0b8a15a09394feed03cb35bd2ebff9">&#9670;&nbsp;</a></span>getTileFileAndCreateDirs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string QuantizedMeshTilesPyramidBuilder::getTileFileAndCreateDirs </td>
          <td>(</td>
          <td class="paramtype">const ctb::TileCoordinate &amp;&#160;</td>
          <td class="paramname"><em>coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>mainOutDir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the tile folder (zoom/x) exists, and creates it otherwise. </p>
<dl class="section return"><dt>Returns</dt><dd>The path of the tile's file. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/mnt/Raid1Ext/EMODNET/Code/src/base/<a class="el" href="quantized__mesh__tiles__pyramid__builder_8h_source.html">quantized_mesh_tiles_pyramid_builder.h</a></li>
<li>/mnt/Raid1Ext/EMODNET/Code/src/base/quantized_mesh_tiles_pyramid_builder.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 28 2018 16:46:06 for EMODnet Quantized Mesh Generator for Cesium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
