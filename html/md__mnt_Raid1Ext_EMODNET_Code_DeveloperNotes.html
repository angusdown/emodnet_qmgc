<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EMODnet Quantized Mesh Generator for Cesium: Developer Notes</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="EMODnet_col_all_vert.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EMODnet Quantized Mesh Generator for Cesium
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Developer Notes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Decisions taken</h2>
<ul>
<li>While the <a class="el" href="classQuantizedMesh.html" title="Contains all the data of a Quantized-mesh. ">QuantizedMesh</a> class has read/write capabilities for the quantized mesh format with both oct-encoded per-vertex normals and water masks, the quantized mesh tiles generated by qm_tiler do not include the water mask.</li>
<li>While simplification results in a higher zoom level could be used as starting point for lower levels in the pyramid, we choose to always sample for each tile the dataset at the resolution required by the zoom level. This is because we treat each tile individually, and we are not sure we can assure the simplification quality at the tiles' edges to be the as required.</li>
</ul>
<h2>TODOs</h2>
<ul>
<li>Decouple the tile limits from the tile simplifier. As it is now, the conversion ECEF coordinates needed by the point set simplification methods assumes that the input uses a lat/lon/height system. This is too restrictive, and should be generalized.</li>
<li>Find a way to sample large rasters without getting out of memory.</li>
<li>In dem2tin, it is not straightforward to use the point set methods with gdal rasters. In qm_tiler, since we use libctb for gathering the raster tiles, the tiles are already in the global geodetic SRS, so the transformations that we compute internally to ECEF coordinates assume that everything is in that SRS. However, because of how we have it implemented now, we don't have a straightforward way of computing this from a GDAL raster with an arbitrary SRS.</li>
</ul>
<h2>Issues to take into account when implementing the quantized-mesh format</h2>
<ul>
<li>The vertices and indices need to be optimized for both cache and fetching to be suitable for highwatermark encoding. We use a slightly modified version of the meshoptimizer library (<a href="https://github.com/zeux/meshoptimizer">https://github.com/zeux/meshoptimizer</a>) to perform these steps. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Nov 28 2018 17:13:08 for EMODnet Quantized Mesh Generator for Cesium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
